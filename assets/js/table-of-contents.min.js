!function(c){let e,t=30,a=800,i=!1,r=null;UAGBTableOfContents={init(){c(document).on("click",".uagb-toc__list a",UAGBTableOfContents._scroll),c(document).on("click",".uagb-toc__scroll-top",UAGBTableOfContents._scrollTop),c(document).on("click",".uagb-toc__title-wrap",UAGBTableOfContents._toggleCollapse),c(document).on("scroll",UAGBTableOfContents._showHideScroll)},hyperLinks(){const o=window.location.hash.substring(0);if(""!==o&&!/[^a-z0-9_-]$/.test(o)){var l=encodeURI(o.substring(0));if(null!==document.querySelector(l)){const e=c(document).find(".wp-block-uagb-table-of-contents");t=e.data("offset");l=c(decodeURIComponent(o)).offset();a=e.data("delay"),void 0!==l&&c("html, body").animate({scrollTop:l.top-t},a)}}},_toggleCollapse(){if(0<c(this).find(".uag-toc__collapsible-wrap").length){const o=c(this).closest(".wp-block-uagb-table-of-contents");o.hasClass("uagb-toc__collapse")?o.removeClass("uagb-toc__collapse"):o.addClass("uagb-toc__collapse")}},_showHideScroll(){null!==r&&(300<jQuery(window).scrollTop()&&i?r.addClass("uagb-toc__show-scroll"):r.removeClass("uagb-toc__show-scroll"))},_scrollTop(){c("html, body").animate({scrollTop:0},800)},_scroll(){if(""!==this.hash){var o=this.hash;const l=c(this).closest(".wp-block-uagb-table-of-contents");e=l.data("scroll"),t=l.data("offset"),a=l.data("delay"),!e||void 0!==(o=c(decodeURIComponent(o)).offset())&&c("html, body").animate({scrollTop:o.top-t},a)}},_run(o,l){const e=c(l);0<e.find(".uag-toc__collapsible-wrap").length&&e.find(".uagb-toc__title-wrap").addClass("uagb-toc__is-collapsible");const t=[];let a;void 0!==o.mappingHeaders&&(o.mappingHeaders.forEach(function(o,l){!0===o&&t.push("h"+(l+1))}),a=null!==t?t.join(","):"");const s=void 0!==a&&""!==a?c("body").find(a):c("body").find("h1, h2, h3, h4, h5, h6");if(0!==s.length){const n=c(".uagb-toc__list-wrap");s.each(function(){const o=c(this);let l=function(o){if(!o)return o;o=o.toString().toLowerCase().replace(/\…+/g,"").replace(/\u2013|\u2014/g,"").replace(/&(amp;)/g,"").replace(/[&]nbsp[;]/gi,"-").replace(/[^a-z0-9 -_]/gi,"").replace(/&(mdash;)/g,"").replace(/\s+/g,"-").replace(/[&\/\\#,^!+()$~%.\[\]'":*?;-_<>{}@‘’”“|]/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,"");return decodeURI(encodeURIComponent(o))}(o.text());if(l.length<1){const e=n.find('a:contains("'+o.text()+'")');0<e.length&&(l=e.attr("href").replace(/#/g,""))}o.before('<span id="'+l+'" class="uag-toc__heading-anchor"></span>')})}i=o.scrollToTop;r=c(".uagb-toc__scroll-top"),0===r.length&&(c("body").append('<div class="uagb-toc__scroll-top"> <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="Layer_1" x="0px" y="0px" width="26px" height="16.043px" viewBox="57 35.171 26 16.043" enable-background="new 57 35.171 26 16.043" xml:space="preserve"><path d="M57.5,38.193l12.5,12.5l12.5-12.5l-2.5-2.5l-10,10l-10-10L57.5,38.193z"/></svg></div>'),r=c(".uagb-toc__scroll-top")),i?r.addClass("uagb-toc__show-scroll"):r.removeClass("uagb-toc__show-scroll"),UAGBTableOfContents._showHideScroll(),UAGBTableOfContents.hyperLinks()}},c(document).ready(function(){UAGBTableOfContents.init()})}(jQuery);