(window.webpackJsonp_ultimate_addons_for_gutenberg=window.webpackJsonp_ultimate_addons_for_gutenberg||[]).push([[68],{180:function(e,t,i){"use strict";i.d(t,"c",(function(){return a})),i.d(t,"a",(function(){return o})),i.d(t,"b",(function(){return l})),i.d(t,"d",(function(){return r}));var n=i(152);const a=(e,t)=>!e&&Object(n.isBlobURL)(t),o=(e,t)=>t&&!e&&!Object(n.isBlobURL)(t),l=e=>{var t,i;return((null===(t=wp)||void 0===t||null===(i=t.media)||void 0===i?void 0:i.attachment(e))||{}).destroyed};function r(e,t,i){var a,o,l,r,c;if(!e||!e.url)return void t({url:void 0,alt:void 0,id:void 0,title:void 0,caption:void 0});if(Object(n.isBlobURL)(e.url))return void i(e.url);i();let u,s=((e,t)=>{const{alt:i,id:n,link:a,caption:o}=e,l={alt:i,id:n,link:a,caption:o};return l.url=e.url,l})(e,imageDefaultSize);var d,N;captionRef.current&&!get(s,["caption"])&&(s=omit(s,["caption"])),u=e.id&&e.id===id?{url:url}:{width:void 0,height:void 0,sizeSlug:(d=e,N=imageDefaultSize,d.hasOwnProperty("sizes")||d.hasOwnProperty("url")||d.hasOwnProperty("media_details")||d.hasOwnProperty("source_url")||void 0!==d[N]?imageDefaultSize:"full")};let b,p=attributes.linkDestination;if(!p)switch((null===(a=wp)||void 0===a||null===(o=a.media)||void 0===o||null===(l=o.view)||void 0===l||null===(r=l.settings)||void 0===r||null===(c=r.defaultProps)||void 0===c?void 0:c.link)||LINK_DESTINATION_NONE){case"file":case LINK_DESTINATION_MEDIA:p=LINK_DESTINATION_MEDIA;break;case"post":case LINK_DESTINATION_ATTACHMENT:p=LINK_DESTINATION_ATTACHMENT;break;case LINK_DESTINATION_CUSTOM:p=LINK_DESTINATION_CUSTOM;break;case LINK_DESTINATION_NONE:p=LINK_DESTINATION_NONE}switch(p){case LINK_DESTINATION_MEDIA:b=e.url;break;case LINK_DESTINATION_ATTACHMENT:b=e.link}s.href=b,t({...s,...u,linkDestination:p})}},181:function(e,t,i){"use strict";i.d(t,"b",(function(){return n})),i.d(t,"a",(function(){return a}));const n=20,a=["image"]},514:function(e,t,i){"use strict";i.r(t),i.d(t,"default",(function(){return I}));var n=i(0),a=i.n(n),o=i(4),l=i(152),r=i(9),c=i(6),u=i(1),s=i(2),d=i(153),N=Object(s.createElement)(d.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(s.createElement)(d.Path,{d:"M18.5 15v3.5H13V6.7l4.5 4.1 1-1.1-6.2-5.8-5.8 5.8 1 1.1 4-4v11.7h-6V15H4v5h16v-5z"})),b=i(180),p=(i(23),i(181));function I(e){e=e.parentProps;const{attributes:t,isSelected:i,setAttributes:s}=e,{url:d,align:I,alt:f,caption:v,id:T,width:_,height:O,sizeSlug:g}=t,[h,m]=Object(n.useState)(),[E,w]=Object(n.useState)(),{createNotice:S}=Object(r.useDispatch)("core/notices"),{mediaUpload:A}=Object(r.useSelect)(e=>{const{getSettings:t}=e(o.store),{imageDefaultSize:i,mediaUpload:n}=t();return{imageDefaultSize:i,mediaUpload:n}},[]);function D(e){const t=["wide","full"].includes(e)?{width:void 0,height:void 0}:{};s({...t,align:e})}return Object(n.useEffect)(()=>{Object(b.a)(T,d)&&i&&!h&&window.fetch(d).then(e=>e.blob()).then(e=>m(e)).catch(()=>{})},[T,d,i,h]),a.a.createElement(a.a.Fragment,null,a.a.createElement(o.BlockControls,{group:"block"},a.a.createElement(o.BlockAlignmentControl,{value:I,onChange:D}),h&&a.a.createElement(c.ToolbarButton,{onClick:function(){A({filesList:[h],onFileChange([e]){Object(b.d)(e,s,w,S),Object(l.isBlobURL)(null==e?void 0:e.url)||(m(),S("success",Object(u.__)("Image uploaded."),{type:"snackbar"}))},allowedTypes:p.a,onError(e){S("error",e,{type:"snackbar"})}})},icon:N,label:Object(u.__)("Upload external image")}),!d&&a.a.createElement(o.BlockAlignmentControl,{value:I,onChange:D})))}I.propTypes={},I.defaultProps={}}}]);