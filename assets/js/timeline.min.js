!function(w){function t(){const t=w(".uagb-timeline");0===t.parents(".wp-block").length&&t.each(function(){const t=w(this).find(".uagb-timeline__line__inner"),i=w(this).find(".uagb-timeline__line"),e=w(this).find(".uagb-timeline__marker"),s=w(this).find(".uagb-timeline__field:last-child"),o=w(document);var n=e.first().position(),a=e.last().position();i.css("top",n.top);var l,h=s.height(),r=s.offset().top-w(this).offset().top;let c,d;w(this).hasClass("uagb-timeline__arrow-center")?(i.css("bottom",a.top),d=r-n.top,c=d+a.top):w(this).hasClass("uagb-timeline__arrow-top")?(l=h-a.top,i.css("bottom",l),c=r):w(this).hasClass("uagb-timeline__arrow-bottom")&&(h=h-a.top,i.css("bottom",h),d=r-n.top,c=d+a.top);var m,_,r=c+20,a=3*w(this).find(".uagb-timeline__marker:first").height(),f=document.documentElement.clientHeight/2+a,g=w(this).offset().top;let u=g+n.top-o.scrollTop();u=u<0?Math.abs(u):-Math.abs(u),g<f?f+Math.abs(u)<r?t.height(f+u):u+f>=r&&t.height(r):u+f<r?u<0?t.height(f-Math.abs(u)):t.height(f+u):u+f>=r&&t.height(r);const b=w(this).find(".uagb-timeline__marker");let p=w(this).find(".uagb-timeline__field-wrap");0===p.length&&(p=w(this).find(".uagb-timeline__animate-border"));for(let t=0;t<b.length;t++)_=w(b[t]).offset().top,m=w(p[t]).offset().top,w(this).offset().top,_=_-o.scrollTop(),m-o.scrollTop()<f?(p[t].classList.remove("out-view"),p[t].classList.add("in-view")):(p[t].classList.add("out-view"),p[t].classList.remove("in-view")),_<f?(b[t].classList.remove("uagb-timeline__out-view-icon"),b[t].classList.add("uagb-timeline__in-view-icon")):(b[t].classList.add("uagb-timeline__out-view-icon"),b[t].classList.remove("uagb-timeline__in-view-icon"))})}window.addEventListener("load",t),window.addEventListener("resize",t),window.addEventListener("scroll",t)}(jQuery);